<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <!-- google font link -->
        <link href="https://fonts.googleapis.com/css2?family=Scada&display=swap" rel="stylesheet" />
        <!-- font awesome link-->
        <script src="https://kit.fontawesome.com/bfcbb8f6a3.js" crossorigin="anonymous"></script>
        <!-- materialize css link -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" type="text/css" />
        <!-- custom css link -->
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css" />
        <title>Cinemagic</title>
    </head>

    <body class="purple lighten-5">
        <header>
            <!-- content in top nav -->
            <nav class="purple lighten-2">
                <i data-target="slide-out" class="sidenav-trigger fas fa-bars black-text"></i>
                <ul class="top-nav">
                    <div id="topNavLinksContainer">
                        <li><a class="top-nav-links black-text" id="home" href="{{ url_for('home') }}">Home</a></li>
                        {% if not session.user %}
                        <li><a class="top-nav-links black-text" href="{{ url_for('signup') }}">Sign Up</a></li>
                        <li><a class="top-nav-links black-text" href="{{ url_for('login') }}">Log In</a></li>
                        {% else %} {% if session.user|lower == "admin"|lower %}
                        <li><a class="top-nav-links black-text" href="{{ url_for('admin') }}">Admin</a></li>
                        {% endif %} {% if session.user|lower != "admin"|lower %}
                        <li><a class="top-nav-links black-text" href="{{ url_for('my_bookings') }}">My Bookings</a></li>
                        {% endif %}
                        <li><a class="top-nav-links black-text" href="{{ url_for('logout') }}">Log Out</a></li>
                        {% endif %}
                    </div>
                </ul>
                <h1 id="navTitle" class="black-text">Cinemagic<i class="smallest fas fa-star"></i><i class="smaller fas fa-star"></i><i class="small fas fa-star"></i></h1>
            </nav>

            <!-- slides sidenav -->
            <ul id="slide-out" class="sidenav purple lighten-2">
                <!-- content in side nav -->
                <div id="sideNavLinksContainer">
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('home') }}"><i class="fas fa-home black-text"></i>Home</a>
                    </li>
                    {% if not session.user %}
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('signup') }}"><i class="fas fa-user black-text"></i>Sign Up</a>
                    </li>
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('login') }}"><i class="fas fa-sign-in-alt black-text"></i>Log In</a>
                    </li>
                    {% else %} {% if session.user|lower == "admin"|lower %}
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('admin') }}"><i class="fas fa-user-cog black-text"></i>Admin</a>
                    </li>
                    {% endif %} {% if session.user|lower != "admin"|lower %}
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('my_bookings') }}"><i class="fas fa-book black-text"></i>My Bookings</a>
                    </li>
                    {% endif %}
                    <li>
                        <a class="side-nav-links black-text waves-effect" href="{{ url_for('logout') }}"><i class="fas fa-sign-out-alt black-text"></i>Log Out</a>
                    </li>
                    {% endif %}
                </div>
            </ul>
        </header>

        <!-- to display flash messages -->
        <section>
            {% with messages = get_flashed_messages() %} {% if messages %} {% for message in messages %}
            <div class="container">
                <div class="row center">
                    <h4 class="center-align flash_messages">{{ message }}</h4>
                </div>
            </div>
            {% endfor %} {% endif %} {% endwith %}
        </section>

        <!-- inherited templates -->
        <section>
            {% block home %} {% endblock %} {% block signup %} {% endblock %} {% block login %} {% endblock %} {% block my_bookings %} {% endblock %} {% block admin %} {% endblock %}
        </section>

        <footer id="socials" class="card purple lighten-2 center">
            <div class="container">
                <div class="row">
                    <div class="col s6 center" id="icons">
                        <a href="https://www.instagram.com/" target="_blank">
                            <i class="fab fa-instagram black-text accent-4"></i>
                        </a>
                        <a href="https://twitter.com/" target="_blank">
                            <i class="fab fa-twitter black-text accent-4"></i>
                        </a>
                        <a href="https://www.youtube.com/" target="_blank">
                            <i class="fab fa-youtube black-text accent-4"></i>
                        </a>
                        <a href="https://www.pinterest.com/" target="_blank">
                            <i class="fab fa-pinterest black-text accent-4"></i>
                        </a>
                        <a href="https://www.facebook.com/" target="_blank">
                            <i class="fab fa-facebook-square black-text accent-4"></i>
                        </a>
                        <a href="https://www.snapchat.com/" target="_blank">
                            <i class="fab fa-snapchat-ghost black-text accent-4"></i>
                        </a>
                    </div>

                    <div class="col s6" id="contacts">
                        <p>+789 4268 3334</p>
                        <p>cinemagic@dmail.com</p>
                        <p>50 Runners Way Street A4W 8UN</p>
                    </div>
                </div>
            </div>
        </footer>

        <!-- jquery cdn link-->
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <!-- materialize js link -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <!-- custom js link -->
        <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>
    </body>
</html>
